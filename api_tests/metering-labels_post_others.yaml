# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-labels_post for http method type POST in artillery framework
# RoostTestHash=b9a8e69447



# ********RoostGPT********
# Artillery YAML Test Script for Non-Success API Responses

---
title: Non-Success API Responses Test Scenario
config:
  target: {{ $processEnvironment.API_HOST }}
  expect:
    enabled: true

scenarios:
  - scenario: Failure-Inducing Requests
    flow:
      # Invalid URL
      - get:
          url: "{{ target }}/invalid/url"
          expect:
            - notStatusCode: 200
            - statusCode: 404

      # Think time of 1 second
      - think: 1000

      # Invalid JSON payload
      - post:
          url: "{{ target }}/v2.0/metering/metering-labels"
          payload: "{invalid JSON payload}"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            - notStatusCode: 200
            - statusCode: 400

      # Think time of 2 seconds
      - think: 2000

      # Missing required field in payload
      - post:
          url: "{{ target }}/v2.0/metering/metering-labels"
          payload:
            name: "Test Label"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            - notStatusCode: 200
            - statusCode: 400

      # Think time of 3 seconds
      - think: 3000

      # Invalid authorization token
      - post:
          url: "{{ target }}/v2.0/metering/metering-labels"
          payload:
            name: "Test Label"
            description: "Test Description"
            is_default: false
          headers:
            Authorization: Bearer invalid_token
          expect:
            - notStatusCode: 200
            - statusCode: 401

      # Think time of 4 seconds
      - think: 4000
