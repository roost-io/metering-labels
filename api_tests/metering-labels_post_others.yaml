# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-labels_post for http method type POST in artillery framework
# RoostTestHash=b9a8e69447



# ********RoostGPT********
--- Corrected Artillery YAML Test Case Start ---

# Artillery test script for non-success API responses
# Scenario: Failure cases, edge cases, and error handling

---
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true

scenarios:
  - scenario: Non-Success API Responses
    - think: 1s
      # Request 1: Invalid payload (missing required field)
      - post:
          url: /v2.0/metering/metering-labels
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            skipHeader: true
            file: metering-labels_post_others.csv
            fieldNames:
              - name
            data:
              - name: "Label 1"
      - expect:
          statusCode: 400
          contentType: application/json
          body:
            hasProperty: message
            notHasProperty: data
    - think: 1s
      # Request 2: Invalid authentication token
      - post:
          url: /v2.0/metering/metering-labels
          headers:
            Authorization: Bearer invalid_token
          payload:
            skipHeader: true
            file: metering-labels_post_others.csv
            fieldNames:
              - name
            data:
              - name: "Label 2"
      - expect:
          statusCode: 401
          contentType: application/json
          body:
            hasProperty: message
            notHasProperty: data
    - think: 1s
      # Request 3: Invalid URL
      - get:
          url: /invalid-url
      - expect:
          statusCode: 404

--- Corrected Artillery YAML Test Case End ---
