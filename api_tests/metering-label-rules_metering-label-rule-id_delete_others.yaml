# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-label-rules/{metering-label-rule-id}_delete for http method type DELETE in artillery framework
# RoostTestHash=6da8381989



# ********RoostGPT********
# Artillery test script for non-success API responses
# This script focuses on a single scenario covering various failure cases, edge cases, and error handling.

---
title: Non-Success API Responses Test Script
config:
  target: {{ $processEnvironment.API_HOST }} # Target host from environment variable
  expect: true # Enable the 'expect' plugin for response validation
payload:
  csv: metering-label-rules_metering-label-rule-id_delete_others.csv # CSV file containing payload variables
  skipHeader: true # Skip the header row in the CSV file
scenarios:
  - scenario: Non-Success API Responses
    flow:
      - get:
          # GET request with invalid URL
          url: /v2.0/metering/metering-label-rules/abc123 # Invalid metering-label-rule-id
          comment: "GET request with invalid metering-label-rule-id"
          expect:
            statusCode: 404 # Expect HTTP 404 Not Found
      - think: 500 # Think time of 500ms
      - post:
          # POST request with invalid payload
          url: /v2.0/metering/metering-label-rules
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }} # Authorization header with token from environment variable
          payload:
            name: "Invalid Payload" # Invalid payload
          expect:
            statusCode: 400 # Expect HTTP 400 Bad Request
      - think: 500 # Think time of 500ms
      - patch:
          # PATCH request without authorization
          url: /v2.0/metering/metering-label-rules/{{ metering-label-rule-id }}
          payload:
            name: "Updated Name" # Payload with updated name
          expect:
            statusCode: 401 # Expect HTTP 401 Unauthorized
      - think: 500 # Think time of 500ms
      - delete:
          # DELETE request with invalid metering-label-rule-id
          url: /v2.0/metering/metering-label-rules/abc123 # Invalid metering-label-rule-id
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }} # Authorization header with token from environment variable
          expect:
            statusCode: 404 # Expect HTTP 404 Not Found
