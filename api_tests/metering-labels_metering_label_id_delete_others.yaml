# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-labels/{metering_label_id}_delete for http method type DELETE in artillery framework
# RoostTestHash=b1a615d400



# ********RoostGPT********
---
config:
  target: {{ $processEnvironment.API_HOST }}
  expect:
    enabled: true

scenarios:
  - name: Failure Scenarios
    flow:
      # Test 1: Invalid URL
      - get:
          url: http://invalid-url.com/v2.0/metering/metering-labels/{{ $processEnvironment.METERING_LABEL_ID }}
          expect:
            statusCode: 404
      - think: 500

      # Test 2: Missing Authentication Header
      - get:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels/{{ $processEnvironment.METERING_LABEL_ID }}
      - think: 500

      # Test 3: Invalid Authentication Token
      - get:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels/{{ $processEnvironment.METERING_LABEL_ID }}
          headers:
            Authorization: Bearer invalid-token
          expect:
            statusCode: 401
      - think: 500

      # Test 4: Invalid Metering Label ID
      - get:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels/invalid-id
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 404
      - think: 500

      # Test 5: Delete Metering Label with Associated Resources
      - get:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels/{{ $processEnvironment.METERING_LABEL_ID_WITH_RESOURCES }}
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 409
      - think: 500

      # Test 6: Invalid JSON Payload
      - post:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
            Content-Type: application/json
          payload:
            {
              "invalid-json-payload": true
            }
          expect:
            statusCode: 400
      - think: 500

      # Test 7: Missing Required Field in Payload
      - post:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
            Content-Type: application/json
          payload:
            meteringLabelName: "Invalid Payload"
          expect:
            statusCode: 400
      - think: 500

      # Test 8: Invalid Field Value in Payload
      - post:
          url: {{ $processEnvironment.API_HOST }}/v2.0/metering/metering-labels
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
            Content-Type: application/json
          payload:
            meteringLabelName: "Invalid Payload"
            meteringLabelId: 12345
          expect:
            statusCode: 400
      - think: 500
