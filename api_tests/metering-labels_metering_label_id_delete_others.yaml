# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-labels/{metering_label_id}_delete for http method type DELETE in artillery framework
# RoostTestHash=b1a615d400



# ********RoostGPT********
---
# Scenario: Non-Success API Response Test

config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  phases:
    - duration: 10s
      arrivalRate: 20

payload:
  source: metering-labels_metering_label_id_delete_others.csv
  skipHeader: true

scenarios:
  - scenario: Non-Success API Response Test
    flow:
      # Delete Metering Label - Invalid metering_label_id
      - delete:
          url: /v2.0/metering/metering-labels/invalid_id
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 404
            contentType: application/json
            hasProperty: errors
            hasProperty: message
            hasProperty: code
            hasProperty: status

      # Delete Metering Label - Missing Authorization
      - delete:
          url: /v2.0/metering/metering-labels/{{ payload.metering_label_id_delete_others }}
          expect:
            statusCode: 401
            contentType: application/json
            hasProperty: errors
            hasProperty: message
            hasProperty: code
            hasProperty: status

      # Delete Metering Label - Invalid Authorization
      - delete:
          url: /v2.0/metering/metering-labels/{{ payload.metering_label_id_delete_others }}
          headers:
            Authorization: Bearer invalid_token
          expect:
            statusCode: 401
            contentType: application/json
            hasProperty: errors
            hasProperty: message
            hasProperty: code
            hasProperty: status

      # Delete Metering Label - Invalid URL
      - delete:
          url: http://invalid-url.com
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 503
            notHasProperty: errors
            notHasProperty: message
            notHasProperty: code
            notHasProperty: status

      # Think time between requests
      - think: 1000
