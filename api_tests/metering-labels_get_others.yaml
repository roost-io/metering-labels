# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-labels_get for http method type GET in artillery framework
# RoostTestHash=3dcb871c88



# ********RoostGPT********
# Artillery YAML Test Script for Non-Success API Responses
---
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: true
  payload:
    file: metering-labels_get_others.csv
    skipHeader: true
  phases:
    - duration: 30s
      arrivalRate: 10

scenarios:
  - name: Failure-Inducing Requests Scenario
    flow:
      - think: 100ms
        # Invalid URL
        - get:
            url: /v2.0/metering/metering-labels/invalid-url
            expect:
              statusCode: 404
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status

      - think: 100ms
        # Invalid Auth Token
        - get:
            url: /v2.0/metering/metering-labels
            headers:
              Authorization: Bearer invalid-auth-token
            expect:
              statusCode: 401
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status

      - think: 100ms
        # Missing Required Field in Payload (POST)
        - post:
            url: /v2.0/metering/metering-labels
            headers:
              Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            payload:
              metering_label_type: "L3"
              metering_label_name: "Test Label"
            expect:
              statusCode: 400
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status

      - think: 100ms
        # Invalid Field Value in Payload (POST)
        - post:
            url: /v2.0/metering/metering-labels
            headers:
              Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            payload:
              metering_label_type: "Invalid Type"
              metering_label_name: "Test Label"
            expect:
              statusCode: 400
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status

      - think: 100ms
        # Missing Required Field in Payload (PUT)
        - put:
            url: /v2.0/metering/metering-labels/{{ metering_label_id }}
            headers:
              Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            payload:
              metering_label_type: "L3"
            expect:
              statusCode: 400
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status

      - think: 100ms
        # Invalid Field Value in Payload (PUT)
        - put:
            url: /v2.0/metering/metering-labels/{{ metering_label_id }}
            headers:
              Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            payload:
              metering_label_type: "Invalid Type"
              metering_label_name: "Test Label"
            expect:
              statusCode: 400
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status

      - think: 100ms
        # Missing Required Field in Payload (DELETE)
        - delete:
            url: /v2.0/metering/metering-labels/{{ metering_label_id }}
            headers:
              Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            expect:
              statusCode: 400
              contentType: application/json
              hasHeader: Content-Type
              hasHeader: Date
              hasHeader: Connection
              hasHeader: Transfer-Encoding
              hasHeader: Server
              hasProperty: error
              hasProperty: message
              hasProperty: status
