# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-labels/{metering_label_id}_get for http method type GET in artillery framework
# RoostTestHash=a7069bdb0c



# ********RoostGPT********
# Artillery test script in YAML format focusing on non-success API responses

---
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 10

scenarios:
  - name: Failure scenarios
    flow:
      # Invalid metering label ID
      - get:
          url: "/v2.0/metering/metering-labels/invalid-id"
          expect:
            statusCode: 404
            headers:
              content-type: application/json
            properties:
              message: null
              code: null

      # Missing authorization
      - get:
          url: "/v2.0/metering/metering-labels/1"
          expect:
            statusCode: 401
            headers:
              content-type: application/json
            properties:
              message: null
              code: null

      # Invalid JSON payload
      - post:
          url: "/v2.0/metering/metering-labels"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          payload:
            invalid-field: invalid-value
          expect:
            statusCode: 400
            headers:
              content-type: application/json
            properties:
              message: null
              code: null

      # Non-existent metering label ID in payload
      - delete:
          url: "/v2.0/metering/metering-labels/non-existent"
          headers:
            Authorization: Bearer {{ $processEnvironment.AUTH_TOKEN }}
          expect:
            statusCode: 404
            headers:
              content-type: application/json
            properties:
              message: null
              code: null

      # Invalid URL
      - get:
          url: "/invalid-url"
          expect:
            statusCode: 404
            headers:
              content-type: text/plain
            properties:
              message: null
              code: null

      # Think time between requests
      - think: 500
