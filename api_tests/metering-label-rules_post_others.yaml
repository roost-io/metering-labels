# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-label-rules_post for http method type POST in artillery framework
# RoostTestHash=067b623f58



# ********RoostGPT********
# Artillery YAML Test Script for Non-Success API Responses
config:
  target: {{ $processEnvironment.API_HOST }}
  expect: enabled

scenarios:
  - scenario: Non-Success API Response Test Scenario
      # Comment: Testing invalid payload
      - get:
          url: "/v2.0/metering/metering-label-rules"
          headers:
            Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
          statusCode: 400
          contentType: application/json
          hasProperty:
            - errors
            - message
            - status
          hasHeader:
            - content-type
            - content-length
          cdnHit: false
      - think: 500

      # Comment: Testing missing authorization
      - get:
          url: "/v2.0/metering/metering-label-rules"
          statusCode: 401
          contentType: application/json
          hasProperty:
            - errors
            - message
            - status
          hasHeader:
            - content-type
            - content-length
          cdnHit: false
      - think: 500

      # Comment: Testing invalid URL
      - get:
          url: "/v2.0/metering/metering-label-rules/invalid"
          statusCode: 404
          contentType: application/json
          hasProperty:
            - errors
            - message
            - status
          hasHeader:
            - content-type
            - content-length
          cdnHit: false
      - think: 500

      # Comment: Testing invalid JSON in payload
      - post:
          url: "/v2.0/metering/metering-label-rules"
          headers:
            Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            Content-Type: application/json
          payload:
            invalid_json: "This is not valid JSON"
          statusCode: 400
          contentType: application/json
          hasProperty:
            - errors
            - message
            - status
          hasHeader:
            - content-type
            - content-length
          cdnHit: false
      - think: 500

      # Comment: Testing empty payload
      - post:
          url: "/v2.0/metering/metering-label-rules"
          headers:
            Authorization: Bearer {{$processEnvironment.AUTH_TOKEN}}
            Content-Type: application/json
          payload:
            {}
          statusCode: 400
          contentType: application/json
          hasProperty:
            - errors
            - message
            - status
          hasHeader:
            - content-type
            - content-length
          cdnHit: false
      - think: 500
