# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Vertex AI and AI Model code-bison-32k

# Test generated for /v2.0/metering/metering-label-rules_post for http method type POST in artillery framework
# RoostTestHash=067b623f58



# ********RoostGPT********
# Artillery YAML Test Script for Non-Success API Responses

config:
  target: {{ $processEnvironment.API_HOST }}
  expect: enabled
  payload:
    file: metering-label-rules_post_others.csv
    skipHeader: true
  security:
    - {{ if not(empty($processEnvironment.AUTH_TOKEN)) and eq($processEnvironment.SECURITY_SCHEMA.scheme.in, "header") and not(empty($processEnvironment.SECURITY_SCHEMA.scheme.name)) }}
        headers.{{ $processEnvironment.SECURITY_SCHEMA.scheme.name }}: {{ $processEnvironment.AUTH_TOKEN }}
      {{ end }}

scenarios:
  - scenario: Non-Success API Responses
    flow:
      - get:
          # Invalid URL
          url: http://www.example.com/v2.0/metering/metering-label-rules
          statusCode: 404
      - get:
          # Missing required parameter 'label_rule_name'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
      - get:
          # Invalid parameter value 'label_rule_name'
          url: {{ target }}/v2.0/metering/metering-label-rules?label_rule_name=invalid
          statusCode: 400
      - post:
          # Invalid payload - missing required field 'label_rule_name'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_description: "Test description"
      - post:
          # Invalid payload - invalid field value 'label_rule_name'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "invalid name"
            label_rule_description: "Test description"
      - post:
          # Invalid payload - invalid field value 'label_rule_description'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: 123
      - post:
          # Invalid payload - missing required field 'label_rule_type'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: "Test description"
      - post:
          # Invalid payload - invalid field value 'label_rule_type'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: "Test description"
            label_rule_type: "invalid type"
      - post:
          # Invalid payload - missing required field 'label_rule_criteria'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: "Test description"
            label_rule_type: "L3"
      - post:
          # Invalid payload - invalid field value 'label_rule_criteria'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: "Test description"
            label_rule_type: "L3"
            label_rule_criteria: "invalid criteria"
      - post:
          # Invalid payload - missing required field 'label_rule_action'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: "Test description"
            label_rule_type: "L3"
            label_rule_criteria: "criteria"
      - post:
          # Invalid payload - invalid field value 'label_rule_action'
          url: {{ target }}/v2.0/metering/metering-label-rules
          statusCode: 400
          payload:
            label_rule_name: "test name"
            label_rule_description: "Test description"
            label_rule_type: "L3"
            label_rule_criteria: "criteria"
            label_rule_action: "invalid action"
      - think: 500
