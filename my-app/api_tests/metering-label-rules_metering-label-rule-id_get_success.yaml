# ********RoostGPT********
# Test generated by RoostGPT for test metering-csv using AI Type Azure Open AI and AI Model roost-gpt4-32k

# Test generated for /v2.0/metering/metering-label-rules/{metering-label-rule-id}_get for http method type GET in artillery framework
# RoostTestHash=987f45854d



# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 600
      arrivalRate: 50
  plugins:
    expect: {}
  payload:
    path: "metering-label-rules_metering-label-rule-id_get_success.csv"
    fields:
      - "id"
      - "metering_label_id"
      - "direction"
      - "remote_ip_prefix"
      - "excluded"
    skipHeader: true
  ensure:
    p95: 200
  environments:
    dev:
      target: "{{ $processEnvironment.API_HOST }}"

scenarios:
  - name: "Validate API behavior for successful requests"
    flow:
    # Request for metering label rule
      - get:
          url: "/v2.0/metering/metering-label-rules/{{ id }}"
          headers:
            Authorization: "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
          capture:
            - json: "$.metering_label_rule"
              as: "responseBody"
          expect:
            - statusCode: 200
            - hasProperty: "metering_label_rule.id"
            - hasProperty: "metering_label_rule.metering_label_id"
            - hasProperty: "metering_label_rule.direction"
            - hasProperty: "metering_label_rule.remote_ip_prefix"
            - hasProperty: "metering_label_rule.excluded"
      - think: 5
